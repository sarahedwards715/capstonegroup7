(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{172:function(e,t,n){},174:function(e,t,n){},176:function(e,t,n){},181:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(33),r=n.n(c),i=n(15),o=(n(133),n(172),n(173),n.p,n(16)),l=(n(174),n(38)),d=n(14),u=n(149),j=n(150),b="",m="";"localhost:3000"===window.location.host?(m="30bda40009804cc0b810a094d8653182",b="http://localhost:3000/capstonegroup7/"):(m="7a4ffd2d4afc4f4d876826b6d369ab66",b="https://sarahedwards715.github.io/capstonegroup7/");var p="https://flicker-tropical-umbra.glitch.me/",h=function(e){var t=e;return console.log(t,"from backend"),fetch(p+"userProfile/"+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()}))},f=function(e,t){return fetch(p+"userPlaylists/"+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){return e.json()}))},O="https://api.spotify.com/v1/",v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,a=O+"recommendations?limit="+encodeURIComponent(n)+"&seed_artists="+encodeURIComponent(",")+"&seed_genres="+encodeURIComponent(t)+"&seed_tracks="+encodeURIComponent(",");return fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=O+"artists/"+t+"/albums?market=US&limit="+encodeURIComponent(n)+"&offset="+encodeURIComponent(a);return fetch(s,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))},g=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=O+"search?query="+encodeURIComponent(t)+"&type="+encodeURIComponent(n)+"&offset="+encodeURIComponent(s)+"&limit="+encodeURIComponent(a);return fetch(c,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))},y="https://accounts.spotify.com/authorize?client_id="+m+"&redirect_uri="+encodeURIComponent(b)+"&response_type=token&state=standUpLazerous",N=Object(u.a)(Object(j.devtools)((function(e,t){return{user:{username:"",moodifyToken:""},setUser:function(t,n){e({user:{username:t,moodifyToken:n}})},userPlaylists:[],setUserPlaylists:function(){t().accessToken&&f(t().user.username).then((function(t){return e({userPlaylists:t})}))},moodifyUserInfo:{displayName:"",createdAt:"",_id:""},setMoodifyUserInfo:function(t,n,a){e({moodifyUserInfo:{displayName:t,createdAt:n,_id:a}})},accessToken:"",setAccessToken:function(t){e({accessToken:t})},accessExpiresIn:null,setExpiresIn:function(t){e({accessExpiresIn:Number(t)})},authURL:y,moodsArray:[],setMoodsArray:function(){var n;t().accessToken&&(n=t().accessToken,fetch(O+"recommendations/available-genre-seeds",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){return e.json()}))).then((function(t){e({moodsArray:t.genres})}))},playlists:[],setPlaylists:function(){t().accessToken&&fetch(p+"playlists",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("Playlists",t),e({playlists:t})}))},logout:function(){e({user:{username:"",moodifyToken:""},accessToken:"",accessExpiresIn:"",createdPlaylistData:{title:"",description:"",songs:[]}})},createdPlaylistData:{title:"",description:"",songs:[]},clearCreatedPlaylistData:function(){e({createdPlaylistData:{title:"",description:"",songs:[]}})},setCreatedPlaylistData:function(n){var a=t().createdPlaylistData;e({createdPlaylistData:Object(d.a)(Object(d.a)({},a),{},{title:n.title,description:n.description})})},addCreatedPlaylistSongs:function(n){var a=t().createdPlaylistData,s=t().createdPlaylistData.songs;e({createdPlaylistData:Object(d.a)(Object(d.a)({},a),{},{songs:[].concat(Object(l.a)(s),[n])})})},deleteCreatedPlaylistSongs:function(n){var a=t().createdPlaylistData,s=t().createdPlaylistData.songs.findIndex((function(e){return e.id===n})),c=Object(l.a)(t().createdPlaylistData.songs);c.splice(s,1),e({createdPlaylistData:Object(d.a)(Object(d.a)({},a),{},{songs:c})})},createdPlaylistEditMode:{active:!1,playlist_id:null},setCreatedPlaylistEditMode:function(n){var a;(null===(a=t().createdPlaylistEditMode)||void 0===a?void 0:a.active)?e({createdPlaylistEditMode:{active:!1,playlist_id:null}}):e({createdPlaylistEditMode:{active:!0,playlist_id:n}})},setCreatedPlaylistEditData:function(t){e({createdPlaylistData:{title:t.title,description:t.description,songs:t.songs}})},selectedTrackToPlay:"",setSelectedTrackToPlay:function(t){e({selectedTrackToPlay:t})},premiumLoginCode:"",setPremiumLoginCode:function(t){e({premiumLoginCode:t})}}}))),C=n(8),T=n(51),P=(n(176),n(222)),w=n(64),k=n(229),S=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=Object(a.useState)({}),r=Object(C.a)(c,2),i=r[0],o=r[1],l=Object(a.useState)(!1),d=Object(C.a)(l,2),u=d[0],j=d[1],b=function(e){e.preventDefault(),j(!0),o(t(n,s)),console.log("errors from handle validate",i)};return Object(a.useEffect)((function(){0===Object.keys(i).length&&u&&e()}),[i]),{handleValidate:b,errors:i,setErrors:o}};var A=function(e,t){var n={};return e.username.trim()?e.username.length<3&&(n.username="Username Must Have At Least 3 Characters!"):n.username="Username Is Required!",e.username.includes(" ")&&(n.username="Username Must Not Contain Whitespace!"),e.username.match(/^\W+$/)&&(n.username="Usernames Must Not Contain Non-Alphanumeric Characters!"),e.username.length>30&&(n.username="Username May Have No More Than 30 Characters!"),e.displayName.trim()?e.displayName.length<3&&(n.displayName="Display Name Must Have At Least 3 Characters!"):n.displayName="Display Name Is Required!",e.displayName.length>30&&(n.displayName="Display Name May Have No More Than 30 Characters!"),e.password.trim()?e.password.length<3&&(n.password="Password Must Have At Least 3 Characters!"):n.password="Password Is Required!",e.password.length>30&&(n.password="Password May Have No More Than 30 Characters!"),n},E=n(1);var L=function(e){var t=Object(a.useState)(!1),n=Object(C.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)({username:"",displayName:"",password:""}),i=Object(C.a)(r,2),o=i[0],l=i[1];function u(e){l((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(T.a)({},e.target.name,e.target.value))}))}var j=S((function(t){e.setRegisterInProgress(!0),function(e){return fetch(p+"users",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e.username,displayName:e.displayName,password:e.password})}).then((function(e){return e.json()}))}(o).then((function(t){if(201===t.statusCode&&(e.setRegisterInProgress(!1),c(!0)),400===t.statusCode&&11e3===t.databaseErrorCode){var n=Object(d.a)(Object(d.a)({},m),{},{username:t.message});e.setRegisterInProgress(!1),h(n)}}))}),A,o),b=j.handleValidate,m=j.errors,h=j.setErrors;return Object(E.jsx)("div",{className:"userRegistrationWrapper",children:s?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"userRegistrationSuccessBanner",children:[Object(E.jsx)("p",{className:"userRegistrationSuccessText",children:"You've Successfully Registered!"}),Object(E.jsx)("p",{className:"userRegistrationSuccessText",children:"Try Logging In!"}),Object(E.jsxs)(P.a,{children:[Object(E.jsx)(w.a,{className:"userRegistrationResetButton",onClick:function(e){return c(!1),void l({username:"",displayName:"",password:""})},children:"Reset Form"}),Object(E.jsx)(w.a,{className:"landingToggleButton",type:"reset",onClick:function(t){return e.toggleFunction(t)},children:"Head To Login"})]})]})}):Object(E.jsx)("div",{className:"formContainer",children:Object(E.jsxs)(k.a,{onSubmit:function(e){return b(e)},children:[Object(E.jsxs)(k.a.Group,{children:[Object(E.jsx)(k.a.Label,{className:"formLabel",children:"Username"}),Object(E.jsx)(k.a.Control,{name:"username",placeholder:"Username",isInvalid:m.username,onChange:function(e){return u(e)}}),Object(E.jsx)(k.a.Control.Feedback,{type:"invalid",children:m.username})]}),Object(E.jsxs)(k.a.Group,{children:[Object(E.jsx)(k.a.Label,{className:"formLabel",children:"Display Name"}),Object(E.jsx)(k.a.Control,{name:"displayName",placeholder:"Display Name",isInvalid:m.displayName,onChange:function(e){return u(e)}}),Object(E.jsx)(k.a.Control.Feedback,{type:"invalid",children:m.displayName})]}),Object(E.jsxs)(k.a.Group,{children:[Object(E.jsx)(k.a.Label,{className:"formLabel",children:"Password"}),Object(E.jsx)(k.a.Control,{name:"password",placeholder:"Password",type:"password",isInvalid:m.password,onChange:function(e){return u(e)}}),Object(E.jsx)(k.a.Control.Feedback,{type:"invalid",children:m.password})]}),Object(E.jsxs)(P.a,{className:"buttonGroupWrapper",children:[Object(E.jsx)(w.a,{type:"submit",children:"Register"}),Object(E.jsx)(w.a,{className:"landingToggleButton",type:"reset",onClick:function(t){return e.toggleFunction(t)},children:"Back to Login"})]})]})})})};n(181);var B=function(e){var t={};return e.username||(t.username="Please Enter Your Username!"),e.password||(t.password="Please Enter Your Password!"),t};var I=function(e){var t=N((function(e){return e.setUser})),n=Object(a.useState)(!1),s=Object(C.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)({username:"",password:""}),l=Object(C.a)(i,2),u=l[0],j=l[1],b=Object(o.f)();function m(e){j((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(T.a)({},e.target.name,e.target.value))}))}Object(a.useEffect)((function(){c&&b.push("/home")}),[c]);var h=S((function(n){e.setLoginInProgress(!0),function(e){return fetch(p+"users/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password})}).then((function(e){return e.json()}))}(u).then((function(n){if(200===n.statusCode&&(t(n.userInfo.username,n.moodifyToken),e.setLoginInProgress(!1),r(!0)),404===n.statusCode){var a=Object(d.a)(Object(d.a)({},O),{},{username:n.message});e.setLoginInProgress(!1),v(a)}if(400===n.statusCode){var s=Object(d.a)(Object(d.a)({},O),{},{password:n.message});v(s),e.setLoginInProgress(!1)}}))}),B,u),f=h.handleValidate,O=h.errors,v=h.setErrors;return Object(E.jsx)("div",{className:"userLoginWrapper",children:Object(E.jsx)("div",{className:"loginFormContainer",children:Object(E.jsxs)(k.a,{onSubmit:function(e){return f(e)},children:[Object(E.jsxs)(k.a.Group,{children:[Object(E.jsx)(k.a.Label,{className:"formLabel",children:"Username"}),Object(E.jsx)(k.a.Control,{name:"username",placeholder:"Username",isInvalid:O.username,onChange:function(e){return m(e)}}),Object(E.jsx)(k.a.Control.Feedback,{type:"invalid",children:O.username})]}),Object(E.jsxs)(k.a.Group,{children:[Object(E.jsx)(k.a.Label,{className:"formLabel",children:"Password"}),Object(E.jsx)(k.a.Control,{name:"password",placeholder:"Password",type:"password",isInvalid:O.password,onChange:function(e){return m(e)}}),Object(E.jsx)(k.a.Control.Feedback,{type:"invalid",children:O.password})]}),Object(E.jsxs)(P.a,{children:[Object(E.jsx)(w.a,{type:"submit",children:"Login"}),Object(E.jsx)(w.a,{type:"reset",onClick:function(t){return e.toggleFunction(t)},children:"Create a New User"})]})]})})})},R=(n(71),n(224));n(223);"localhost:3000"===window.location.host?"30bda40009804cc0b810a094d8653182":"7a4ffd2d4afc4f4d876826b6d369ab66";var D=function(e){var t=N((function(e){return e.accessToken})),n=N((function(e){return e.setAccessToken})),s=N((function(e){return e.setExpiresIn})),c=N((function(e){return e.authURL})),r=Object(a.useState)(!1),i=Object(C.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)(!1),u=Object(C.a)(d,2),j=u[0],b=u[1],m=Object(a.useState)(!1),p=Object(C.a)(m,2),h=p[0],f=p[1];function O(){l(!o)}return Object(a.useEffect)((function(){if(window.location.hash){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}return e}),{}),t=e.access_token;t&&n(t);var a=e.expires_in;a&&s(a),window.location.hash=""}}),[]),Object(E.jsxs)("div",{className:"landingWrapper",children:[o?Object(E.jsx)("div",{className:"landingTitleContainer",children:Object(E.jsx)("span",{className:"landingTitleText",children:"new user"})}):Object(E.jsx)("div",{className:"landingTitleContainer",children:Object(E.jsx)("span",{className:"landingTitleText",children:"moodify"})}),Object(E.jsxs)("div",{className:"landingFormWrapper",children:[(j||h)&&Object(E.jsx)("div",{className:"loginLoaderWrapper",children:Object(E.jsx)("div",{className:"loaderDefiner",children:Object(E.jsx)(R.a,{active:!0,size:"big",children:"Communicating With Server . . ."})})}),t?Object(E.jsx)(E.Fragment,{children:o?Object(E.jsx)(L,{toggleFunction:O,setRegisterInProgress:f}):Object(E.jsx)(I,{toggleFunction:O,setLoginInProgress:b})}):Object(E.jsx)("div",{className:"spotAuthWrapper",children:Object(E.jsx)("a",{className:"authBtn",href:c,children:"Authorize With Spotify"})})]})]})},U=(n(184),n(185),n(43));var W=function(e){return Object(E.jsx)(U.a,{className:"moodCard",children:Object(E.jsx)(U.a.Body,{children:Object(E.jsx)(i.b,{className:"moodTitles",to:"/browse/".concat(e.mood),children:e.mood})})})},F=n(231);var M=function(e){var t=N((function(e){return e.moodsArray}));return Object(E.jsxs)("div",{className:"moodsListWrapper",children:[Object(E.jsx)("div",{className:"moodsListBanner",children:"moods"}),Object(E.jsx)("div",{className:"moodsContainer",children:Object(E.jsx)(F.a.Group,{textAlign:"center",className:"moodlistsContainer",children:t.map((function(e,t){return Object(E.jsx)(W,{mood:e},t)}))})})]})},_=(n(188),n(189),n(190),n(234)),H=n(227);var z=function(e){return Object(E.jsx)("div",{className:"deletionModalWrapper",children:Object(E.jsxs)(H.a,{className:"deletionModal",centered:!0,onExited:function(){return e.setVisible(!1)},onShow:function(){return e.setVisible(!0)},show:e.visible,children:[Object(E.jsx)(H.a.Body,{children:Object(E.jsxs)("p",{children:["Are you sure you wish to delete this ",e.deleteTarget,"?"]})}),Object(E.jsxs)(H.a.Footer,{children:[Object(E.jsx)(_.a,{compact:!0,onClick:function(){return e.setVisible(!1)},children:"On Second Thought..."}),Object(E.jsx)(_.a,{compact:!0,negative:!0,onClick:function(){e.setVisible(!1),e.deleteFunction()},children:"Yes, I'm Sure."})]})]})})};var G=function(e){var t=N((function(e){return e.user})),n=N((function(e){return e.setPlaylists})),s=N((function(e){return e.setCreatedPlaylistEditData})),c=N((function(e){return e.setCreatedPlaylistEditMode})),r=Object(o.f)(),l=Object(a.useState)(!1),d=Object(C.a)(l,2),u=d[0],j=d[1],b=e.playlist.reviews.reduce((function(e,t,n,a){return!0===a[n].thumbsUp&&(e+=1),e}),0);return Object(E.jsx)(U.a,{className:"playlistsCard",children:Object(E.jsxs)(U.a.Body,{children:[Object(E.jsx)(U.a.Title,{children:Object(E.jsx)(i.b,{className:"playlistTitles",to:"/playlists/".concat(e.playlist._id),style:{color:"black"},children:e.playlist.title})}),Object(E.jsxs)(U.a.Text,{children:["by ",e.playlist.username]}),Object(E.jsx)(U.a.Text,{children:Object(E.jsxs)("div",{className:"playlistTotalLikes",children:[b," likes"]})}),e.showDescription&&Object(E.jsx)(U.a.Text,{children:e.playlist.description}),t.username===e.playlist.username&&Object(E.jsxs)(U.a.Footer,{children:[Object(E.jsx)(w.a,{variant:"success",className:"editPlaylistButton",onClick:function(t){return c(e.playlist._id),void s(e.playlist)},children:"Edit"}),Object(E.jsx)(w.a,{variant:"danger",className:"deletePlaylistButton",onClick:function(e){return j(!0)},children:"Delete"})]}),Object(E.jsx)(z,{deleteTarget:"Playlist",deleteFunction:function(a){var s,c;(s=e.playlist._id,c=t.moodifyToken,fetch(p+"playlists/"+s,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+c}}).then((function(e){return e.json()}))).then((function(e){200===e.statusCode&&(n(),r.push("/home"))}))},setVisible:j,visible:u})]})})};var V=function(e){var t=N((function(e){return e.playlists}));return Object(E.jsxs)("div",{className:"playlistsListWrapper",children:[Object(E.jsx)("div",{className:"playlistsListBanner",children:"playlists"}),Object(E.jsx)("div",{className:"playlistsContainer",children:Object(E.jsx)(F.a.Group,{textAlign:"center",children:t.map((function(e){return Object(E.jsx)(G,{playlist:e},e._id)}))})})]})};var J=function(e){var t=N((function(e){return e.moodsArray})),n=N((function(e){return e.setMoodsArray})),s=N((function(e){return e.playlists})),c=N((function(e){return e.setPlaylists}));return Object(a.useEffect)((function(){n(),c()}),[]),Object(E.jsxs)("div",{className:"browseWrapper",children:[Object(E.jsx)("div",{className:"audioPlayerWrapper"}),Object(E.jsx)("div",{className:"browseBodyWrapper",children:t.length&&s.length?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(M,{}),Object(E.jsx)(V,{})]}):Object(E.jsx)(R.a,{active:!0,size:"big",children:"Loading..."})})]})},q=(n(191),n(230));var Y=function(e){var t=e.song,n=t.name,a=t.album,s=t.artists,c=t.duration_ms,r=(t.popularity,t.id),o=N((function(e){return e.user})),l=N((function(e){return e.createdPlaylistData})),d=N((function(e){return e.setSelectedTrackToPlay})),u=N((function(e){return e.addCreatedPlaylistSongs})),j=N((function(e){return e.deleteCreatedPlaylistSongs})),b=function(e){var t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return t+":"+(n<10?"0":"")+n}(c);return Object(E.jsxs)(q.a.Row,{children:[o.username&&o.moodifyToken&&Object(E.jsxs)(q.a.Cell,{width:"2",children:[l.songs.some((function(e){return e.id===r}))?Object(E.jsx)(_.a,{compact:!0,size:"mini",className:"blue",style:{padding:"7%",margin:"1%",width:"80px"},onClick:function(){return j(r)},children:e.compact?"Delete":"Delete from Playlist"}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(_.a,{compact:!0,size:"mini",className:"blue",style:{padding:"7%",margin:"1%",width:"80px"},onClick:function(){return u(e.song)},children:e.compact?"Add":"Add Song"})}),e.song.preview_url?Object(E.jsx)(_.a,{size:"mini",className:"green",style:{padding:"7%",margin:"1%",width:"80px"},onClick:function(){d(e.song.preview_url)},children:"Preview"}):""]}),Object(E.jsx)(q.a.Cell,{width:"5",children:n}),Object(E.jsx)(q.a.Cell,{width:" 2",children:Object(E.jsx)(i.b,{to:"/artists/"+s[0].id,children:s[0].name})}),e.compact||Object(E.jsx)(q.a.Cell,{width:"5",children:a?Object(E.jsx)(i.b,{to:"/albums/"+a.id,children:a.name}):Object(E.jsx)("p",{children:e.albumName})}),e.compact||Object(E.jsx)(q.a.Cell,{width:" 1",children:b})]})},K=function(e){var t=Object(a.useState)(!1),n=Object(C.a)(t,2),s=n[0],c=n[1];return Object(a.useEffect)((function(){s&&setTimeout((function(){e&&e(),console.log("AT BOTTOM FROM HOOK"),c(!1)}),1e3)}),[s]),[s,c]};var X=function(e){var t=N((function(e){return e.user})),n=K(e.infiniteScrollCallback||null),a=Object(C.a)(n,2),s=(a[0],a[1]);return Object(E.jsx)("div",{onScroll:function(e){return function(e){var t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&s(!0)}(e)},className:"songListWrapper",children:Object(E.jsxs)(q.a,{stackable:!0,collapsing:e.collapsing,compact:e.compact,size:"small",children:[Object(E.jsx)(q.a.Header,{children:Object(E.jsxs)(q.a.Row,{children:[t.username&&t.moodifyToken&&Object(E.jsx)(q.a.HeaderCell,{children:"Controls"}),Object(E.jsx)(q.a.HeaderCell,{children:"Track"}),Object(E.jsx)(q.a.HeaderCell,{children:"Artist"}),e.compact||Object(E.jsx)(q.a.HeaderCell,{children:"Album"}),e.compact||Object(E.jsx)(q.a.HeaderCell,{children:"Time"})]})}),Object(E.jsx)(q.a.Body,{children:e.songs&&e.songs.map((function(t){return Object(E.jsx)(Y,{song:t,compact:e.compact,collapsing:e.collapsing,albumName:e.albumName||""},t.id)}))})]})})},$=(n(192),n(193),n(194),n(92));var Q=function(e){return console.log(e),Object(E.jsx)("div",{className:"reviewsItemsWrapper",children:Object(E.jsxs)(U.a,{children:[Object(E.jsx)(U.a.Title,{children:e.review.username}),Object(E.jsxs)(U.a.Text,{children:[e.review.thumbsUp&&Object(E.jsx)("span",{children:Object(E.jsx)($.a,{name:"like"})}),e.review.description]})]})})};var Z=function(e){var t;return Object(E.jsxs)("div",{className:"reviewsDisplayWrapper",children:[Object(E.jsx)("div",{className:"viewsSubBanner",children:"reviews"}),Object(E.jsx)("div",{className:"reviewsContainer",children:Object(E.jsx)(F.a.Group,{children:null===(t=e.reviews)||void 0===t?void 0:t.map((function(e){return Object(E.jsx)(Q,{review:e},e._id)}))})})]})},ee=(n(195),n(226)),te=n(225);var ne=function(e){var t=N((function(e){return e.user})),n=N((function(e){return e.setPlaylists})),s=Object(a.useState)(!1),c=Object(C.a)(s,2),r=c[0],i=c[1],o=Object(a.useState)(" "),l=Object(C.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)(!1),b=Object(C.a)(j,2),m=(b[0],b[1],Object(a.useState)([])),h=Object(C.a)(m,2),f=(h[0],h[1]);function O(a){a.preventDefault(),function(e,t,n,a,s){return console.log(e),fetch(p+"reviews",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify({playlist_id:e,username:s,description:t,thumbsUp:n})}).then((function(e){return e.json()}))}(e.playlist_id,d,r,t.moodifyToken,t.username).then((function(e){201===e.statusCode&&(n(),u(""))}))}return Object(a.useEffect)((function(){var t;(t=e.playlist_id,fetch(p+"reviews/".concat(t)).then((function(e){return e.json()}))).then((function(e){f(e)}))}),[]),Object(E.jsxs)("div",{className:"reviewsWrapper",children:[Object(E.jsx)("div",{className:"viewsSubBanner",children:"leave a review"}),Object(E.jsxs)(ee.a,{onSubmit:function(e){return O(e)},children:[Object(E.jsx)(ee.a.Field,{id:"form-textarea-control-opinion",control:te.a,label:"Playlist Review",placeholder:"Playlist Review",onChange:function(e){return u(e.target.value)},value:d}),Object(E.jsxs)(_.a,{className:"icon ".concat(r?"default_like":"active_like"),as:"Love",labelPosition:"left",onClick:function(e){return i(!r)},type:"submit",color:"red",children:[Object(E.jsx)($.a,{name:"heart"}),"I love !"]}),Object(E.jsx)(_.a,{onClick:"click",type:"submit",children:"Send my Review"})]})]})};var ae=function(e){var t=N((function(e){return e.playlists})),n=Object(a.useState)(""),s=Object(C.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)({}),l=Object(C.a)(i,2),d=l[0],u=l[1],j=Object(o.f)();function b(){var t;(t=e.match.params.playlist_id,fetch(p+"playlists/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()}))).then((function(e){console.log(e),404!==e.statusCode&&400!==e.statusCode||r(e.message),u(e)}))}return Object(a.useEffect)((function(){b()}),[]),Object(a.useEffect)((function(){b()}),[t]),console.log(d),Object(E.jsxs)("div",{className:"playlistPageWrapper",children:[Object(E.jsx)("div",{className:"playlistTitleBanner",children:d.title}),Object(E.jsx)("div",{className:"playlistPageBody",style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginTop:"5%"},children:c?Object(E.jsxs)("div",{className:"viewsErrorWrapper",children:[Object(E.jsxs)("div",{className:"viewsErrorBanner",children:[Object(E.jsx)("p",{children:"ERROR"}),Object(E.jsx)("p",{children:c})]}),Object(E.jsx)(w.a,{onClick:function(e){return j.push("/")},children:"Return to Landing"})]}):Object(E.jsx)("div",{children:d.songs?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"bodyLeftRow",children:Object(E.jsx)(G,{showDescription:!0,playlist:d})}),Object(E.jsx)("div",{className:"bodyRightRow",children:Object(E.jsx)(X,{songs:d.songs,collapsing:!1,compact:!1})})]}):Object(E.jsx)(R.a,{active:!0,size:"big",children:"Loading..."})})}),Object(E.jsx)("div",{className:"reviewFormWrapper",children:Object(E.jsx)(ne,{playlist_id:e.match.params.playlist_id})}),Object(E.jsx)("div",{className:"playlistPageReviews",children:Object(E.jsx)(Z,{reviews:d.reviews})})]})};var se=function(e){return Object(E.jsxs)("div",{className:"notFoundWrapper",children:[Object(E.jsx)("div",{className:"notFoundBanner",children:Object(E.jsx)("p",{className:"notFoundText",children:"404! Page Not Found"})}),Object(E.jsx)(i.b,{to:"/",className:"notFoundReturn",children:"Return to the Landing Page!"})]})};var ce=function(e){var t=Object(a.useState)([]),n=Object(C.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),i=Object(C.a)(r,2),d=i[0],u=i[1],j=N((function(e){return e.accessToken})),b=(N((function(e){return e.selectedTrackToPlay})),Object(o.f)());return Object(a.useEffect)((function(){v(j,e.match.params.mood).then((function(e){var t,n;400!==(null===(t=e.error)||void 0===t?void 0:t.status)&&404!==(null===(n=e.error)||void 0===n?void 0:n.status)||u(e.error.message),c(e.tracks)}))}),[]),Object(E.jsxs)("div",{className:"moodPageWrapper",children:[Object(E.jsx)("div",{className:"moodPageHeader",children:Object(E.jsx)("div",{className:"moodPageBanner",children:e.match.params.mood})}),Object(E.jsx)("div",{className:"moodPageBody",children:d?Object(E.jsxs)("div",{className:"viewsErrorWrapper",children:[Object(E.jsxs)("div",{className:"viewsErrorBanner",children:[Object(E.jsx)("p",{children:"ERROR"}),Object(E.jsx)("p",{children:d})]}),Object(E.jsx)(w.a,{onClick:function(e){return b.push("/")},children:"Return to Landing"})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"moodPageSongListWrapper",children:Object(E.jsx)(X,{songs:s,collapsing:!1,compact:!1,infiniteScrollCallback:function(){return v(j,e.match.params.mood).then((function(e){var t,n;400!==(null===(t=e.error)||void 0===t?void 0:t.status)&&404!==(null===(n=e.error)||void 0===n?void 0:n.status)||u(e.error.message);var a=e.tracks.filter((function(e){return s.some((function(t){return t.id!==e.id}))})),r=[].concat(Object(l.a)(s),Object(l.a)(a));c(r)}))}})})})})]})},re=n(48),ie=n.n(re),oe=n(139),le=(n(196),n(197),function(e){var t=N((function(e){return e.userPlaylists})),n=N((function(e){return e.moodifyUserInfo}));return console.log(t),Object(E.jsx)("div",{className:"userPlaylistsContainer",children:Object(E.jsx)(F.a.Group,{textAlign:"center",children:t.map((function(e){return Object(E.jsx)(G,{showDescription:!0,playlist:e,displayName:n.displayName},e._id)}))})})}),de=n(99),ue=n(94);var je=function(e){var t={};return e.length<3&&(t.displayName="A Display Name Must Be At Least 3 Characters!"),e.length>30&&(t.displayName="Display Name May Have No More Than 30 Characters!"),t},be=function(){var e=N((function(e){return e.user})),t=N((function(e){return e.moodifyUserInfo})),n=N((function(e){return e.setMoodifyUserInfo})),s=N((function(e){return e.setUserPlaylists})),c=N((function(e){return e.userPlaylists})),r=N((function(e){return e.logout})),i=Object(o.f)(),l=Object(a.useState)(""),u=Object(C.a)(l,2),j=u[0],b=u[1],m=Object(a.useState)(!1),O=Object(C.a)(m,2),v=O[0],x=O[1],g=Object(a.useState)(!1),y=Object(C.a)(g,2),T=y[0],P=y[1];function k(){P((function(e){return!e}))}Object(a.useEffect)(Object(oe.a)(ie.a.mark((function t(){var a;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e.username);case 2:a=t.sent,console.log(a,"inside useEffect"),n(a[0].displayName,a[0].createdAt,a[0]._id);case 5:case"end":return t.stop()}}),t)}))),[j]),Object(a.useEffect)(Object(oe.a)(ie.a.mark((function t(){var n;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e.username);case 2:n=t.sent,s(n);case 4:case"end":return t.stop()}}),t)}))),[]);var A=S((function(){(function(e,t,n){return fetch(p+"users/"+e,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify({displayName:t})}).then((function(e){return e.json()}))})(t._id,j,e.moodifyToken).then((function(e){if(200===e.statusCode){console.log(e);var a=e.displayName;console.log(a);var s=Object(d.a)({displayName:a},t);n(s.displayName,s.createdAt,s._id),b(t.displayName),P(!T)}}))}),je,j),L=A.handleValidate,B=A.errors;A.setErrors;return Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"userProfileWrapper",children:[Object(E.jsxs)("div",{className:"userProfileHeader",children:[Object(E.jsxs)("div",{className:"userProfileBanner",children:[e.username,"'s profile"]}),Object(E.jsx)(w.a,{className:"deleteUserButton",onClick:function(e){return x(!0)},children:"Delete User"})]}),Object(E.jsxs)("div",{className:"userProfileDisplayNameColumn",children:[Object(E.jsxs)("div",{className:"displayNameBanner",children:[" ","@",t.displayName]}),T?Object(E.jsxs)("div",{className:"editDisplayNameWrapper",children:[Object(E.jsxs)(de.a,{className:"mb-3 displayNameInputWrapper ",children:[Object(E.jsx)(de.a.Prepend,{children:Object(E.jsx)(de.a.Text,{id:"basic-addon1",children:"@"})}),Object(E.jsx)(ue.a,{placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1",isInvalid:B.displayName,onChange:function(e){return b(e.target.value)}}),Object(E.jsx)(ue.a.Feedback,{type:"invalid",children:B.displayName}),Object(E.jsx)(de.a.Append,{children:Object(E.jsx)(w.a,{onClick:k,className:"inputGroupCloseButton",children:"X"})})]}),Object(E.jsx)(w.a,{variant:"success",className:"submitDisplayNameButton",onClick:function(e){return L(e)},children:"Submit"})]}):Object(E.jsx)(w.a,{onClick:k,className:"editDisplayNameButton",children:"Edit Display Name"})]}),Object(E.jsx)("div",{className:"userPlaylistsBanner",children:"my playlists"}),Object(E.jsx)(le,{userPlaylists:c}),Object(E.jsx)(z,{deleteTarget:"User",deleteFunction:function(n){var a,s;(a=t._id,s=e.moodifyToken,fetch(p+"users/"+a,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+s}}).then((function(e){return e.json()}))).then((function(e){200===e.statusCode&&(i.push("/"),r())}))},setVisible:x,visible:v})]})})},me=(n(198),function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"profileWrapper",children:Object(E.jsx)(be,{})})})}),pe=(n(199),function(){var e=N((function(e){return e.accessToken})),t=N((function(e){return e.user})),n=(N((function(e){return e.premiumLoginCode})),Object(o.f)());return Object(E.jsx)("div",{className:"viewContainer",children:e&&t.moodifyToken?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(J,{})}):Object(E.jsxs)("div",{className:"viewsErrorWrapper",children:[Object(E.jsxs)("div",{className:"viewsErrorBanner",children:[Object(E.jsx)("p",{children:"Error"}),Object(E.jsx)("p",{children:"Invalid Credentials! Try Logging In Again!"})]}),Object(E.jsx)(w.a,{onClick:function(e){return n.push("/")},children:"Return to Landing"})]})})}),he=(n(200),n(228));var fe=function(e){var t=N((function(e){return e.accessToken})),n=N((function(e){return e.user})),s=N((function(e){return e.logout})),c=Object(a.useState)("landing"),r=Object(C.a)(c,2),o=r[0],l=r[1],d=N((function(e){return e.setSelectedTrackToPlay})),u=function(e,t){l(t)};return Object(E.jsx)("div",{className:"navigationWrapper",children:Object(E.jsxs)(he.a,{pointing:!0,secondary:!0,className:"navigationMenu",children:[Object(E.jsx)(he.a.Item,{name:"landing",active:"landing"===o,children:Object(E.jsx)(i.b,{to:"/",onClick:function(e){return u(0,"landing")},children:"Landing"})}),t&&n.moodifyToken&&Object(E.jsx)(he.a.Item,{name:"home",active:"home"===o,children:Object(E.jsx)(i.b,{to:"/home",onClick:function(e){return u(0,"home")},children:"Home"})}),t&&n.moodifyToken&&Object(E.jsx)(he.a.Item,{name:"userProfile",active:"userProfile"===o,children:Object(E.jsx)(i.b,{to:"/userProfile",onClick:function(e){return u(0,"userProfile")},children:"User Profile"})}),t&&n.moodifyToken&&Object(E.jsx)(he.a.Item,{name:"logout",active:"logout"===o,children:Object(E.jsx)(i.b,{to:"/",onClick:function(e){return d([]),void s()},children:"Logout"})})]})})},Oe=n.p+"static/media/albumPlaceholder.6309a46c.jpg",ve=n(232);n(201),n(202);var xe=function(e){var t;return Object(E.jsx)("div",{className:"albumCardsWrapper",children:Object(E.jsxs)(U.a,{className:"albumCard",children:[Object(E.jsx)(U.a.Img,{variant:"top",src:(null===(t=e.album.images[1])||void 0===t?void 0:t.url)||Oe}),Object(E.jsx)(U.a.Text,{children:Object(E.jsx)(i.b,{to:"/albums/"+e.album.id,children:e.album.name})})]})})};var ge=function(e){var t=K(e.infiniteScrollCallback),n=Object(C.a)(t,2),a=(n[0],n[1]);return Object(E.jsx)("div",{className:"albumsListWrapper",children:Object(E.jsx)("div",{onScroll:function(e){return function(e){var t=e.target;t.scrollWidth-t.scrollLeft===t.clientWidth&&a(!0)}(e)},className:"albumsListCardContainer",children:e.albums.map((function(e){return Object(E.jsx)(xe,{album:e},e.id)}))})})};var ye=function(e){var t=Object(a.useState)({name:"",artist:{},image:null,genres:[]}),n=Object(C.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),o=Object(C.a)(r,2),d=o[0],u=o[1],j=Object(a.useState)([]),b=Object(C.a)(j,2),m=b[0],p=b[1],h=Object(a.useState)(0),f=Object(C.a)(h,2),v=f[0],g=f[1],y=Object(a.useState)(0),T=Object(C.a)(y,2),P=T[0],w=T[1],k=e.match.params.album_id,S=N((function(e){return e.accessToken}));return Object(a.useEffect)((function(){window.scrollTo(0,0),function(e,t){return fetch(O+"albums/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))}(S,k).then((function(e){var t;console.log(e),c({name:e.name,artist:e.artists[0],image:(null===(t=e.images[0])||void 0===t?void 0:t.url)||Oe,genres:e.genres})})),function(e,t){return fetch(O+"albums/"+t+"/tracks?limit=50",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))}(S,k).then((function(e){console.log("TRACKS",e),u(e.items)}))}),[e]),Object(a.useEffect)((function(){var e;(null===(e=s.artist)||void 0===e?void 0:e.id)&&x(S,s.artist.id).then((function(e){p(e.items),g(e.total)}))}),[s]),Object(E.jsxs)("div",{className:"albumPageWrapper",children:[Object(E.jsxs)("div",{className:"albumPageHeader",children:[Object(E.jsx)("div",{className:"albumPageBanner",children:s.name}),Object(E.jsx)("div",{className:"viewsSubBanner",children:Object(E.jsx)(i.b,{to:"/artists/"+s.artist.id,children:s.artist.name})})]}),Object(E.jsxs)("div",{className:"albumPageBody",children:[Object(E.jsx)("div",{className:"bodyLeftRow",children:s.image?Object(E.jsx)("div",{className:"albumPageMainArt",children:Object(E.jsx)("img",{className:"albumPageMainArt",src:s.image,alt:"cover_art"})}):Object(E.jsx)(ve.a.Image,{})}),Object(E.jsx)("div",{className:"bodyRightRow",children:d.length?Object(E.jsx)(X,{songs:d,albumName:s.name}):Object(E.jsx)(R.a,{active:!0,size:"big",children:"Loading . . ."})})]}),Object(E.jsxs)("div",{className:"albumPageAlbumsColumn",children:[Object(E.jsxs)("div",{className:"viewsSubBanner",children:["Albums By ",s.artist.name," "]}),Object(E.jsx)(ge,{albums:m,infiniteScrollCallback:function(){if(m.length<v)return x(S,s.artist.id,10,P).then((function(e){var t=e.items.filter((function(e){return m.some((function(t){return t.id!==e.id}))})),n=[].concat(Object(l.a)(m),Object(l.a)(t));console.log(t),p(n)})).then(w((function(e){return e+10})))}})]})]})},Ne=(n(203),n(204),n.p+"static/media/artistPlaceholder.e61e3e30.png");var Ce=function(e){var t;return Object(E.jsx)("div",{className:"artistsCardWrapper",children:Object(E.jsxs)(U.a,{className:"artistCard",children:[Object(E.jsx)(U.a.Header,{children:Object(E.jsx)(i.b,{to:"/artists/"+e.artist.id,children:e.artist.name})}),Object(E.jsx)(U.a.Img,{variant:"bottom",src:(null===(t=e.artist.images[0])||void 0===t?void 0:t.url)||Ne})]})})};var Te=function(e){return Object(E.jsx)("div",{className:"artistsListWrapper",children:Object(E.jsx)("div",{className:"artistsListCardContainer",children:e.artists.map((function(e){return Object(E.jsx)(Ce,{artist:e},e.id)}))})})};var Pe=function(e){var t=N((function(e){return e.accessToken})),n=e.match.params.artist_id,s=Object(a.useState)({genres:[],name:"",image:{},followers:{}}),c=Object(C.a)(s,2),r=c[0],i=c[1],o=Object(a.useState)([]),d=Object(C.a)(o,2),u=d[0],j=d[1],b=Object(a.useState)([]),m=Object(C.a)(b,2),p=m[0],h=m[1],f=Object(a.useState)([]),v=Object(C.a)(f,2),g=v[0],y=v[1],T=Object(a.useState)(0),P=Object(C.a)(T,2),w=P[0],k=P[1],S=Object(a.useState)(0),A=Object(C.a)(S,2),L=A[0],B=A[1];return Object(a.useEffect)((function(){window.scrollTo(0,0),function(e,t){return fetch(O+"artists/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))}(t,n).then((function(e){i({genres:e.genres,name:e.name,image:e.images[1].url,followers:e.followers})})),x(t,n).then((function(e){j(e.items),k(e.total)})),function(e,t){return fetch(O+"artists/"+t+"/toptracks?market=US",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))}(t,n).then((function(e){h(e.tracks)})),function(e,t){return fetch(O+"artists/"+t+"/related-artists",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))}(t,n).then((function(e){y(e.artists)}))}),[e]),Object(E.jsxs)("div",{className:"artistPageWrapper",children:[Object(E.jsxs)("div",{className:"artistPageHeader",children:[Object(E.jsxs)("div",{className:"headerLeftRow",children:[r.image?Object(E.jsx)("div",{className:"artistPageMainArt",style:{backgroundImage:"url(".concat(r.image,")"),backgroundSize:"cover"}}):Object(E.jsx)(ve.a.Image,{}),Object(E.jsx)("div",{className:"artistPageBanner",children:r.name})]}),Object(E.jsxs)("div",{className:"headerRightRow",children:[Object(E.jsx)("div",{className:"viewsSubBanner",children:"top tracks"}),p.length?Object(E.jsx)("div",{className:"artistSongListWrapper",children:Object(E.jsx)(X,{songs:p})}):Object(E.jsx)(R.a,{active:!0,size:"big",children:"Loading . . ."})]})]}),Object(E.jsxs)("div",{className:"artistPageBody",children:[Object(E.jsxs)("div",{className:"artistPageAlbumsColumn",children:[Object(E.jsxs)("div",{className:"viewsSubBanner",children:["appears on ",w," albums"]}),Object(E.jsx)(ge,{albums:u,infiniteScrollCallback:function(){if(u.length<w)return x(t,n,10,L).then((function(e){var t=e.items.filter((function(e){return u.some((function(t){return t.id!==e.id}))})),n=[].concat(Object(l.a)(u),Object(l.a)(t));console.log(t),j(n)})).then(B((function(e){return e+10})))}})]}),Object(E.jsxs)("div",{className:"artistPageArtistsColumn",children:[Object(E.jsx)("div",{className:"viewsSubBanner",children:"related artists"}),Object(E.jsx)(Te,{artists:g})]})]})]})};var we=function(e){var t=N((function(e){return e.accessToken})),n=(N((function(e){return e.selectedTrackToPlay})),e.match.params.query),s=Object(a.useState)([]),c=Object(C.a)(s,2),r=c[0],i=c[1],o=Object(a.useState)([]),l=Object(C.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)([]),b=Object(C.a)(j,2),m=b[0],p=b[1];return Object(a.useEffect)((function(){g(t,n,"track").then((function(e){console.log("SEARCH TRACKS",e),i(e.tracks.items)})),g(t,n,"artist").then((function(e){console.log("SEARCH ARTISTS",e),u(e.artists.items)})),g(t,n,"album").then((function(e){console.log("SEARCH ALBUMS",e),p(e.albums.items)}))}),[e]),Object(E.jsxs)("div",{className:"searchPageWrapper",children:[Object(E.jsx)("div",{className:"searchPageHeader",children:Object(E.jsxs)("div",{className:"viewsSubBanner",children:["Showing Results For ",decodeURIComponent(n)]})}),Object(E.jsxs)("div",{className:"searchPageBody",children:[Object(E.jsxs)("div",{className:"searchPageArtistsColumn",children:[Object(E.jsx)("div",{className:"viewsSubBanner",children:"artists"}),Object(E.jsx)(Te,{artists:d})]}),Object(E.jsxs)("div",{className:"searchPageTracksColumn",children:[Object(E.jsx)("div",{className:"viewsSubBanner",children:"tracks"}),Object(E.jsx)(X,{songs:r})]}),Object(E.jsxs)("div",{className:"searchPageAlbumsColumn",children:[Object(E.jsx)("div",{className:"viewsSubBanner",children:"albums"}),Object(E.jsx)(ge,{albums:m})]})]})]})};n(205);var ke=function(){var e=Object(a.useState)(""),t=Object(C.a)(e,2),n=t[0],s=t[1],c=Object(o.f)();return Object(E.jsx)("div",{className:"searchBarWrapper",children:Object(E.jsx)(k.a,{onSubmit:function(e){return e.preventDefault(),void c.push("/search/"+encodeURIComponent(n))},children:Object(E.jsx)(k.a.Group,{children:Object(E.jsxs)(de.a,{hasValidation:!0,children:[Object(E.jsx)(de.a.Prepend,{children:Object(E.jsx)($.a,{name:"search"})}),Object(E.jsx)(k.a.Control,{name:"query",placeholder:"Search . . .",onChange:function(e){return s(e.target.value)},value:n}),Object(E.jsx)(de.a.Append,{children:Object(E.jsx)(w.a,{type:"submit",children:"Search"})})]})})})})},Se=(n(206),n(233));var Ae=function(e){var t={};return e.title.trim()?e.title.length<3&&(t.title="A Title Must Have A Least 3 Characters!"):t.title="A Playlist Must Have A Title!",e.title.length>50&&(t.title="A Title May Not Be Longer Than 50 Characters!"),e.description.length&&e.description.length<3&&(t.description="A Playlist's Description is Optional, but Must Have At Least 3 Characters!"),e.description.length>80&&(t.description="A Description May Not Be Longer Than 80 Characters!"),t};var Ee=function(){var e=N((function(e){return e.user})),t=N((function(e){return e.createdPlaylistData})),n=N((function(e){return e.createdPlaylistEditMode})),s=N((function(e){return e.setCreatedPlaylistData})),c=N((function(e){return e.clearCreatedPlaylistData})),r=N((function(e){return e.setCreatedPlaylistEditMode})),i=N((function(e){return e.setPlaylists})),o=Object(a.useState)(!1),l=Object(C.a)(o,2),u=l[0],j=l[1];function b(e){s(Object(d.a)(Object(d.a)({},t),{},Object(T.a)({},e.target.name,e.target.value)))}var m,h=S((function(a){n.active?function(e,t,n,a){var s={};return t.title&&(s.title=t.title),t.description&&(s.description=t.description),t.songs&&(s.songs=t.songs),console.log(s),fetch(p+"playlists/"+e,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify(Object(d.a)(Object(d.a)({},s),{},{username:n}))}).then((function(e){return e.json()}))}(n.playlist_id,t,e.username,e.moodifyToken).then((function(e){200===e.statusCode&&(j(!0),i(),c(),r(),setInterval(j(!1),5e3))})):function(e,t,n){return fetch(p+"playlists",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(Object(d.a)(Object(d.a)({},e),{},{username:t}))}).then((function(e){return e.json()}))}(t,e.username,e.moodifyToken).then((function(e){201===e.statusCode&&(j(!0),i(),c(),setInterval(j(!1),5e3))}))}),Ae,t),f=h.handleValidate,O=h.errors;return h.setErrors,m=u?"Success!":n.active?"Editing!":!n.active&&t.songs.length?"Creating!":"Standby!",Object(E.jsxs)("div",{className:"playlistCreationWrapper",children:[e.moodifyToken&&Object(E.jsx)("div",{className:"playlistCreationHeader",children:m}),0!==t.songs.length&&e.moodifyToken&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(X,{songs:t.songs,collapsing:!0,compact:!0}),Object(E.jsxs)(k.a,{onSubmit:function(e){return f(e)},children:[Object(E.jsxs)(k.a.Group,{children:[Object(E.jsx)(k.a.Label,{className:"formLabel",children:"Playlist Title"}),Object(E.jsx)(k.a.Control,{name:"title",placeholder:"Title",isInvalid:O.title,onChange:function(e){return b(e)},value:t.title}),Object(E.jsx)(k.a.Control.Feedback,{type:"invalid",children:O.title})]}),Object(E.jsxs)(k.a.Group,{children:[Object(E.jsx)(k.a.Label,{className:"formLabel",children:"Playlist Description"}),Object(E.jsx)(k.a.Control,{name:"description",placeholder:"Description",isInvalid:O.description,onChange:function(e){return b(e)},value:t.description}),Object(E.jsx)(k.a.Control.Feedback,{type:"invalid",children:O.description})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a,{type:"submit",children:n.active?"Update Playlist":"Upload Playlist"}),Object(E.jsx)(_.a.Or,{}),Object(E.jsx)(_.a,{type:"reset",onClick:function(e){return c(),void(n.active&&r())},children:"Close"})]})]}),n.active&&Object(E.jsx)(Se.a,{warning:!0,children:"You Are In Edit Mode!"})]})]})},Le=n(154),Be=n.n(Le);n(207);var Ie=function(){var e=N((function(e){return e.accessExpiresIn})),t=N((function(e){return e.logout})),n=Object(a.useState)(e),s=Object(C.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)(!1),l=Object(C.a)(i,2),d=l[0],u=l[1],j=Object(o.f)();return Object(a.useEffect)((function(){return d&&(window.timer=setInterval((function(){r((function(e){return e-1}))}),1e3)),function(){return clearInterval(window.timer)}}),[d]),Object(a.useEffect)((function(){c<0&&(t(),j.push("/"))}),[c]),Object(a.useEffect)((function(){u(!0)}),[]),Object(E.jsx)("div",{className:"Accesscountdownwrapper",children:c})};var Re=function(){var e=N((function(e){return e.accessToken})),t=N((function(e){return e.user})),n=N((function(e){return e.selectedTrackToPlay}));return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(fe,{}),Object(E.jsxs)("div",{className:"appBody",children:[e&&t.moodifyToken&&Object(E.jsxs)("div",{className:"appLeftColumn",children:[Object(E.jsx)(Ie,{}),Object(E.jsx)("div",{className:"searchBarDiv",children:Object(E.jsx)(ke,{})}),Object(E.jsx)("div",{className:"audioPlayerWrapper",children:Object(E.jsx)(Be.a,{className:"browsePagePlayer",src:n,controls:!0})}),Object(E.jsx)("div",{className:"playlistCreationWrapper",children:Object(E.jsx)(Ee,{})})]}),Object(E.jsx)("div",{className:"appRightColumn",children:Object(E.jsxs)(o.c,{children:[Object(E.jsx)(o.a,{exact:!0,path:"/",component:D}),Object(E.jsx)(o.a,{exact:!0,path:"/home",component:pe}),Object(E.jsx)(o.a,{exact:!0,path:"/browse",component:J}),Object(E.jsx)(o.a,{path:"/browse/:mood",component:ce}),Object(E.jsx)(o.a,{exact:!0,path:"/playlists/:playlist_id",component:ae}),Object(E.jsx)(o.a,{exact:!0,path:"/albums/:album_id",component:ye}),Object(E.jsx)(o.a,{exact:!0,path:"/artists/:artist_id",component:Pe}),Object(E.jsx)(o.a,{exact:!0,path:"/search/:query",component:we}),Object(E.jsx)(o.a,{exact:!0,path:"/userProfile",component:me}),Object(E.jsx)(o.a,{path:"*",component:se})]})})]}),Object(E.jsx)("div",{className:"playerContainer"})]})},De=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,235)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(i.a,{basename:"/capstonegroup7",children:Object(E.jsx)(Re,{})})}),document.getElementById("root")),De()},71:function(e,t,n){}},[[208,1,2]]]);
//# sourceMappingURL=main.f83eabc6.chunk.js.map